/* Google Fonts - must be first */
@import url('https://fonts.googleapis.com/css2?family=Shippori+Mincho:wght@400;500;600;700&family=Noto+Sans+JP:wght@300;400;500;600;700&family=Inter:wght@400;500;600;700&display=swap');

@import "tailwindcss";

/* ╔═══════════════════════════════════════════════════════════════╗
   ║  預かり番頭 - 侘寂（Wabi-Sabi）デザインシステム                ║
   ║  ─────────────────────────────────────────────────────────────║
   ║  Design Principles:                                          ║
   ║  • 間（Ma）- 余白による呼吸と静寂                              ║
   ║  • 渋（Shibui）- 控えめで深みのある美                          ║
   ║  • 直線美 - 角丸なし（border-radius: 0）                       ║
   ╚═══════════════════════════════════════════════════════════════╝ */

/* ===================================
   1. CSS Custom Properties
   =================================== */

:root {
  /* ─── 日本の伝統色 ─── */

  /* メインカラー */
  --sumi: #1A1A1A;           /* 墨 - メインテキスト */
  --sumi-light: #333333;     /* 墨（明） */
  --gofun: #F8F7F3;          /* 胡粉 - 背景 */
  --kinari: #FBFAF5;         /* 生成 - カード背景 */
  --shironeri: #F3F3F2;      /* 白練 - 入力フィールド */
  --aitetsu: #2F3A46;        /* 藍鉄 - サブテキスト */
  --ginnezumi: #91989F;      /* 銀鼠 - 無効状態 */
  --usuzumi: #A3A3A2;        /* 薄墨 - ボーダー */

  /* アクセントカラー（朱） */
  --shu: #8B2332;            /* 朱 - プライマリ */
  --shu-light: #A52A3A;      /* 朱（明） - ホバー */
  --shu-dark: #6B1A26;       /* 朱（暗） - アクティブ */
  --shu-muted: rgba(139, 35, 50, 0.1);  /* 朱（薄） - 背景 */

  /* ゴールドアクセント */
  --kin: #C9A84C;            /* 金 - 特別なアクセント */

  /* セマンティックカラー */
  --oitake: #5A6650;         /* 老竹色 - 成功 */
  --oitake-light: #6B7760;   /* 老竹色（明） */
  --oitake-muted: rgba(90, 102, 80, 0.15);

  --oudo: #B68D40;           /* 黄土 - 警告 */
  --oudo-light: #C9A050;     /* 黄土（明） */
  --oudo-muted: rgba(182, 141, 64, 0.15);

  --kokiake: #7B2D26;        /* 深緋 - エラー/危険 */
  --kokiake-light: #8E3830;  /* 深緋（明） */
  --kokiake-muted: rgba(123, 45, 38, 0.15);

  /* ─── スペーシング ─── */
  --space-xs: 4px;
  --space-sm: 8px;
  --space-md: 16px;
  --space-lg: 24px;
  --space-xl: 32px;
  --space-2xl: 48px;

  /* ─── タイポグラフィ ─── */
  --text-xs: 10px;
  --text-sm: 12px;
  --text-base: 14px;
  --text-lg: 16px;
  --text-xl: 18px;
  --text-2xl: 24px;
  --text-3xl: 30px;

  /* ─── シャドウ ─── */
  --shadow-sm: 0 1px 2px rgba(139, 35, 50, 0.04);
  --shadow-md: 0 1px 3px rgba(139, 35, 50, 0.06), 0 1px 2px rgba(139, 35, 50, 0.04);
  --shadow-lg: 0 4px 6px rgba(139, 35, 50, 0.08), 0 2px 4px rgba(139, 35, 50, 0.04);

  /* ─── トランジション ─── */
  --transition-fast: 150ms cubic-bezier(0.4, 0.0, 0.2, 1);
  --transition-normal: 200ms cubic-bezier(0.4, 0.0, 0.2, 1);
  --transition-slow: 300ms cubic-bezier(0.4, 0.0, 0.2, 1);

  /* ─── Tailwind統合 ─── */
  --background: var(--gofun);
  --foreground: var(--sumi);
}

/* ===================================
   2. Tailwind Theme Extensions
   =================================== */

@theme inline {
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  /* 日本の伝統色 */
  --color-sumi: var(--sumi);
  --color-sumi-light: var(--sumi-light);
  --color-gofun: var(--gofun);
  --color-kinari: var(--kinari);
  --color-shironeri: var(--shironeri);
  --color-aitetsu: var(--aitetsu);
  --color-ginnezumi: var(--ginnezumi);
  --color-usuzumi: var(--usuzumi);

  /* 朱系 */
  --color-shu: var(--shu);
  --color-shu-light: var(--shu-light);
  --color-shu-dark: var(--shu-dark);
  --color-shu-muted: var(--shu-muted);

  /* セマンティック */
  --color-kin: var(--kin);
  --color-oitake: var(--oitake);
  --color-oitake-light: var(--oitake-light);
  --color-oudo: var(--oudo);
  --color-oudo-light: var(--oudo-light);
  --color-kokiake: var(--kokiake);
  --color-kokiake-light: var(--kokiake-light);

  /* フォント */
  --font-mincho: 'Shippori Mincho', 'Yu Mincho', '游明朝', serif;
  --font-sans: 'Noto Sans JP', 'Hiragino Kaku Gothic ProN', sans-serif;
  --font-mono: 'Inter', 'Helvetica Neue', Arial, sans-serif;

  /* 角丸なし - 日本の直線美 */
  --radius-none: 0;
  --radius-full: 9999px;
}

/* ===================================
   3. Base Styles
   =================================== */

body {
  background: var(--background);
  color: var(--foreground);
  font-family: var(--font-sans);
  line-height: 1.8;
  letter-spacing: 0.02em;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-mincho);
  line-height: 1.5;
  font-weight: 500;
}

/* ===================================
   4. Buttons（ボタン）
   =================================== */

/* ─── Primary Button（朱色） ─── */
.btn-primary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: var(--shu);
  color: white;
  padding: 12px 20px;
  border-radius: 0;
  border: none;
  font-weight: 500;
  font-size: var(--text-base);
  cursor: pointer;
  transition: all var(--transition-normal);
}

.btn-primary:hover:not(:disabled) {
  background: var(--shu-light);
}

.btn-primary:active:not(:disabled) {
  background: var(--shu-dark);
}

.btn-primary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ─── Secondary Button ─── */
.btn-secondary {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: var(--gofun);
  color: var(--sumi);
  padding: 12px 20px;
  border: 1px solid rgba(163, 163, 162, 0.4);
  border-radius: 0;
  font-weight: 500;
  font-size: var(--text-base);
  cursor: pointer;
  transition: all var(--transition-normal);
}

.btn-secondary:hover:not(:disabled) {
  background: var(--shironeri);
  border-color: var(--usuzumi);
}

.btn-secondary:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ─── Outline Button ─── */
.btn-outline {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: transparent;
  color: var(--shu);
  padding: 12px 20px;
  border: 1px solid rgba(139, 35, 50, 0.4);
  border-radius: 0;
  font-weight: 500;
  font-size: var(--text-base);
  cursor: pointer;
  transition: all var(--transition-normal);
}

.btn-outline:hover:not(:disabled) {
  background: rgba(139, 35, 50, 0.05);
  border-color: var(--shu);
}

.btn-outline:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ─── Ghost Button ─── */
.btn-ghost {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: transparent;
  color: var(--aitetsu);
  padding: 12px 20px;
  border: none;
  border-radius: 0;
  font-weight: 500;
  font-size: var(--text-base);
  cursor: pointer;
  transition: all var(--transition-normal);
}

.btn-ghost:hover:not(:disabled) {
  background: rgba(139, 35, 50, 0.05);
  color: var(--sumi);
}

.btn-ghost:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ─── Danger Button ─── */
.btn-danger {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: 8px;
  background: var(--kokiake);
  color: white;
  padding: 12px 20px;
  border-radius: 0;
  border: none;
  font-weight: 500;
  font-size: var(--text-base);
  cursor: pointer;
  transition: all var(--transition-normal);
}

.btn-danger:hover:not(:disabled) {
  background: var(--kokiake-light);
}

.btn-danger:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* ─── Button Sizes ─── */
.btn-xs {
  padding: 4px 8px;
  font-size: var(--text-xs);
  gap: 4px;
}

.btn-sm {
  padding: 6px 12px;
  font-size: var(--text-sm);
  gap: 6px;
}

.btn-lg {
  padding: 16px 28px;
  font-size: var(--text-lg);
  gap: 10px;
}

/* ─── Button States ─── */
.btn-loading {
  position: relative;
  color: transparent !important;
  pointer-events: none;
}

.btn-loading::after {
  content: '';
  position: absolute;
  width: 16px;
  height: 16px;
  border: 2px solid currentColor;
  border-right-color: transparent;
  border-radius: 50%;
  animation: spin 0.6s linear infinite;
}

@keyframes spin {
  to { transform: rotate(360deg); }
}

/* ===================================
   5. Form Elements（フォーム）
   =================================== */

/* ─── Input - 硯（すずり）スタイル ─── */
.form-input {
  width: 100%;
  background: var(--shironeri);
  border: 1px solid rgba(139, 35, 50, 0.15);
  border-bottom-width: 2px;
  border-radius: 0;
  padding: 12px 16px;
  font-size: var(--text-base);
  color: var(--sumi);
  transition: all var(--transition-normal);
}

.form-input:focus {
  outline: none;
  border-bottom-color: var(--shu);
  background: white;
}

.form-input::placeholder {
  color: var(--ginnezumi);
}

.form-input:disabled {
  background: var(--gofun);
  color: var(--ginnezumi);
  cursor: not-allowed;
}

/* ─── Input Error State ─── */
.form-input-error {
  border-color: var(--kokiake);
  border-bottom-color: var(--kokiake);
}

.form-input-error:focus {
  border-bottom-color: var(--kokiake);
}

/* ─── Input Sizes ─── */
.form-input-sm {
  padding: 8px 12px;
  font-size: var(--text-sm);
}

.form-input-lg {
  padding: 16px 20px;
  font-size: var(--text-lg);
}

/* ─── Select ─── */
.form-select {
  width: 100%;
  background: var(--shironeri);
  border: 1px solid rgba(139, 35, 50, 0.15);
  border-bottom-width: 2px;
  border-radius: 0;
  padding: 12px 16px;
  padding-right: 40px;
  font-size: var(--text-base);
  color: var(--sumi);
  cursor: pointer;
  transition: all var(--transition-normal);
  appearance: none;
  background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' fill='none' viewBox='0 0 20 20'%3e%3cpath stroke='%238b2332' stroke-linecap='round' stroke-linejoin='round' stroke-width='1.5' d='M6 8l4 4 4-4'/%3e%3c/svg%3e");
  background-position: right 12px center;
  background-repeat: no-repeat;
  background-size: 20px 20px;
}

.form-select:focus {
  outline: none;
  border-bottom-color: var(--shu);
  background-color: white;
}

.form-select:disabled {
  background-color: var(--gofun);
  color: var(--ginnezumi);
  cursor: not-allowed;
}

/* ─── Textarea ─── */
.form-textarea {
  width: 100%;
  background: var(--shironeri);
  border: 1px solid rgba(139, 35, 50, 0.15);
  border-bottom-width: 2px;
  border-radius: 0;
  padding: 12px 16px;
  font-size: var(--text-base);
  color: var(--sumi);
  resize: vertical;
  min-height: 100px;
  transition: all var(--transition-normal);
}

.form-textarea:focus {
  outline: none;
  border-bottom-color: var(--shu);
  background: white;
}

/* ─── Checkbox ─── */
.form-checkbox {
  width: 18px;
  height: 18px;
  accent-color: var(--shu);
  cursor: pointer;
}

/* ─── Label ─── */
.form-label {
  display: block;
  font-size: var(--text-sm);
  font-weight: 500;
  color: var(--aitetsu);
  margin-bottom: 6px;
}

.form-label-required::after {
  content: '*';
  color: var(--kokiake);
  margin-left: 4px;
}

/* ─── Help Text ─── */
.form-help {
  font-size: var(--text-xs);
  color: var(--ginnezumi);
  margin-top: 4px;
}

/* ─── Error Message ─── */
.form-error {
  font-size: var(--text-xs);
  color: var(--kokiake);
  margin-top: 4px;
}

/* ===================================
   6. Cards（カード）
   =================================== */

/* ─── Card - 襖（ふすま）スタイル ─── */
.card {
  background: white;
  border: 1px solid rgba(139, 35, 50, 0.15);
  border-radius: 0;
  box-shadow: var(--shadow-md);
}

.card-header {
  padding: 20px 24px;
  border-bottom: 1px solid rgba(139, 35, 50, 0.1);
  font-family: var(--font-mincho);
}

.card-body {
  padding: 24px;
}

.card-footer {
  padding: 16px 24px;
  border-top: 1px solid rgba(139, 35, 50, 0.1);
  background: var(--kinari);
}

/* ─── Card Variants ─── */
.card-bordered {
  border-width: 2px;
}

.card-elevated {
  box-shadow: var(--shadow-lg);
}

.card-flat {
  box-shadow: none;
}

/* ─── Interactive Card ─── */
.card-interactive {
  cursor: pointer;
  transition: all var(--transition-normal);
}

.card-interactive:hover {
  border-color: rgba(139, 35, 50, 0.3);
  box-shadow: var(--shadow-lg);
}

/* ===================================
   7. Badges（バッジ）
   =================================== */

/* ─── Badge Base - 落款（らっかん）スタイル ─── */
.badge {
  display: inline-flex;
  align-items: center;
  padding: 4px 12px;
  font-size: var(--text-sm);
  font-weight: 600;
  border-radius: 0;
  white-space: nowrap;
}

/* ─── Semantic Badges ─── */
.badge-success {
  background: var(--oitake-muted);
  color: var(--oitake);
}

.badge-warning {
  background: var(--oudo-muted);
  color: #5C4033;
}

.badge-danger {
  background: var(--kokiake-muted);
  color: var(--kokiake);
}

.badge-info {
  background: rgba(47, 58, 70, 0.15);
  color: var(--aitetsu);
}

.badge-neutral {
  background: rgba(163, 163, 162, 0.15);
  color: var(--ginnezumi);
}

/* ─── Status Badges ─── */
.badge-received {
  background: rgba(139, 35, 50, 0.1);
  color: var(--shu);
}

.badge-pending_ship {
  background: var(--oudo-muted);
  color: #5C4033;
}

.badge-processing {
  background: rgba(47, 58, 70, 0.15);
  color: var(--aitetsu);
}

.badge-returned {
  background: var(--oitake-muted);
  color: var(--oitake);
}

.badge-completed {
  background: rgba(163, 163, 162, 0.15);
  color: var(--ginnezumi);
}

.badge-cancelled {
  background: rgba(163, 163, 162, 0.2);
  color: var(--usuzumi);
}

.badge-rework {
  background: var(--kokiake-muted);
  color: var(--kokiake);
}

.badge-paid_storage {
  background: var(--oudo-muted);
  color: #5C4033;
}

.badge-on_hold {
  background: var(--oudo-muted);
  color: #5C4033;
}

.badge-awaiting_customer {
  background: var(--oudo-muted);
  color: #5C4033;
}

/* ─── Badge Sizes ─── */
.badge-sm {
  padding: 2px 8px;
  font-size: var(--text-xs);
}

.badge-lg {
  padding: 6px 16px;
  font-size: var(--text-base);
}

/* ===================================
   8. Tables（テーブル）
   =================================== */

/* ─── Data Table - 巻物（まきもの）スタイル ─── */
.data-table {
  width: 100%;
  background: white;
  border-collapse: collapse;
}

.data-table thead {
  background: linear-gradient(180deg, rgba(139, 35, 50, 0.04) 0%, rgba(139, 35, 50, 0.02) 100%);
}

.data-table th {
  padding: 16px 20px;
  text-align: left;
  font-size: var(--text-sm);
  font-weight: 600;
  color: var(--aitetsu);
  letter-spacing: 0.05em;
}

.data-table td {
  padding: 16px 20px;
  border-bottom: 1px solid rgba(139, 35, 50, 0.08);
}

.data-table tbody tr:hover {
  background: rgba(139, 35, 50, 0.03);
}

/* ─── Table Responsive Wrapper ─── */
.table-responsive {
  width: 100%;
  overflow-x: auto;
  -webkit-overflow-scrolling: touch;
}

/* ─── Mobile Table Styles ─── */
@media (max-width: 1023px) {
  .data-table th,
  .data-table td {
    padding: 12px 12px;
    font-size: 13px;
    white-space: nowrap;
  }

  .data-table th:first-child,
  .data-table td:first-child {
    position: sticky;
    left: 0;
    background: white;
    z-index: 1;
  }

  .data-table thead th:first-child {
    background: linear-gradient(180deg, rgba(250, 247, 243, 1) 0%, rgba(250, 247, 243, 1) 100%);
  }
}

/* ===================================
   9. Alerts（アラート）
   =================================== */

.alert {
  padding: 16px 20px;
  border-left: 4px solid;
  background: white;
}

.alert-success {
  border-color: var(--oitake);
  background: var(--oitake-muted);
}

.alert-warning {
  border-color: var(--oudo);
  background: var(--oudo-muted);
}

.alert-danger {
  border-color: var(--kokiake);
  background: var(--kokiake-muted);
}

.alert-info {
  border-color: var(--aitetsu);
  background: rgba(47, 58, 70, 0.1);
}

/* ===================================
   10. Animations
   =================================== */

/* ─── 霧（きり）フェード ─── */
@keyframes kiriFade {
  from {
    opacity: 0;
    filter: blur(4px);
  }
  to {
    opacity: 1;
    filter: blur(0);
  }
}

.animate-kiri-fade {
  animation: kiriFade 400ms cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* ─── 襖（ふすま）スライドイン ─── */
@keyframes fusumaIn {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

.animate-fusuma-in {
  animation: fusumaIn 400ms cubic-bezier(0.4, 0.0, 0.2, 1);
}

/* ─── フェードイン ─── */
@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.animate-fade-in {
  animation: fadeIn var(--transition-normal);
}

/* ─── スライドアップ ─── */
@keyframes slideUp {
  from {
    transform: translateY(10px);
    opacity: 0;
  }
  to {
    transform: translateY(0);
    opacity: 1;
  }
}

.animate-slide-up {
  animation: slideUp var(--transition-normal);
}

/* ─── パルス（スケルトン用） ─── */
@keyframes pulse {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.5; }
}

.animate-pulse {
  animation: pulse 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

/* ===================================
   11. Accessibility
   =================================== */

:focus-visible {
  outline: none;
  box-shadow: 0 0 0 2px rgba(139, 35, 50, 0.4);
}

:disabled {
  opacity: 0.5;
  cursor: not-allowed;
}

/* Screen reader only */
.sr-only {
  position: absolute;
  width: 1px;
  height: 1px;
  padding: 0;
  margin: -1px;
  overflow: hidden;
  clip: rect(0, 0, 0, 0);
  white-space: nowrap;
  border: 0;
}

/* Skip link */
.skip-link {
  position: absolute;
  top: -40px;
  left: 0;
  background: var(--shu);
  color: white;
  padding: 8px 16px;
  z-index: 100;
  transition: top var(--transition-fast);
}

.skip-link:focus {
  top: 0;
}

/* ===================================
   12. Utilities
   =================================== */

/* ─── Typography ─── */
.font-mincho {
  font-family: var(--font-mincho);
}

.font-sans {
  font-family: var(--font-sans);
}

.font-mono {
  font-family: var(--font-mono);
}

/* 数字用 - 明朝体（統計表示等） */
.font-number {
  font-family: var(--font-mincho);
  font-feature-settings: 'tnum' on, 'lnum' on;
}

/* 統計カード等の大きな数字 */
.stat-number {
  font-family: var(--font-mincho);
  font-weight: 400;
  letter-spacing: -0.02em;
}

/* ─── Text Truncate ─── */
.text-truncate {
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
}

/* ─── Line Clamp ─── */
.line-clamp-2 {
  display: -webkit-box;
  -webkit-line-clamp: 2;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

.line-clamp-3 {
  display: -webkit-box;
  -webkit-line-clamp: 3;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

/* ===================================
   13. Layout Components
   =================================== */

/* ─── Admin Header ─── */
@media (max-width: 639px) {
  .admin-header {
    flex-direction: column;
    align-items: flex-start;
    gap: 12px;
  }
}

/* ─── Mobile Card List ─── */
.admin-card-list {
  display: none;
}

@media (max-width: 767px) {
  .admin-table-desktop {
    display: none;
  }

  .admin-card-list {
    display: block;
  }
}

@media (min-width: 768px) {
  .admin-table-desktop {
    display: block;
  }
}

/* ===================================
   14. Skeleton Loading
   =================================== */

.skeleton {
  background: linear-gradient(
    90deg,
    rgba(163, 163, 162, 0.1) 25%,
    rgba(163, 163, 162, 0.2) 50%,
    rgba(163, 163, 162, 0.1) 75%
  );
  background-size: 200% 100%;
  animation: skeleton-loading 1.5s ease-in-out infinite;
}

@keyframes skeleton-loading {
  0% { background-position: 200% 0; }
  100% { background-position: -200% 0; }
}
